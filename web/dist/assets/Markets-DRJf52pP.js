import{r as a,j as e,B as h,i as L,g as z,G as u,K as D,h as i,V as W,c as B,I as R,Y as f,T,J as k,A as U,P as E,H as S,a4 as A}from"./ui-CpDg7456.js";import{c as b,a as H,L as I}from"./index-BfGfRh_G.js";import{P as K,S as G}from"./ParticlesBackground-DfOtsOSK.js";import{C as V}from"./CountUp-C9x9-r4U.js";import{I as F}from"./IconActivity-D8_ZCPqd.js";import{I as X}from"./IconTrendingUp-nLGzI8zT.js";import"./vendor-OvXVS5lI.js";const J=[["path",{d:"M13 3l0 7l6 0l-8 11l0 -7l-6 0l8 -11",key:"svg-0"}]],C=b("outline","bolt","Bolt",J);const O=[["path",{d:"M12 10.941c2.333 -3.308 .167 -7.823 -1 -8.941c0 3.395 -2.235 5.299 -3.667 6.706c-1.43 1.408 -2.333 3.621 -2.333 5.588c0 3.704 3.134 6.706 7 6.706s7 -3.002 7 -6.706c0 -1.712 -1.232 -4.403 -2.333 -5.588c-2.084 3.353 -3.257 3.353 -4.667 2.235",key:"svg-0"}]],Q=b("outline","flame","Flame",O);const Y=[["path",{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-0"}],["path",{d:"M21 21l-6 -6",key:"svg-1"}]],Z=b("outline","search","Search",Y);const ee=[["path",{d:"M3 7l6 6l4 -4l8 8",key:"svg-0"}],["path",{d:"M21 10l0 7l-7 0",key:"svg-1"}]],se=b("outline","trending-down","TrendingDown",ee);const te=[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]],re=b("outline","x","X",te);function P(t){const r=t.replace("_","");return r.endsWith("USDT")?{base:r.slice(0,-4),quote:"USDT"}:r.endsWith("USDC")?{base:r.slice(0,-4),quote:"USDC"}:{base:r,quote:""}}const ne=a.memo(({item:t,type:r})=>{const l=P(t.symbol),c=parseFloat(String(t.change24h||"0")),n=c>=0;return e.jsx(U,{component:I,to:`/${r}?base=${l.base}&quote=${l.quote}`,underline:"never",c:"inherit",children:e.jsx(G,{p:"md",radius:"md",className:"glass-card no-move",style:{height:"100%"},children:e.jsxs(z,{gap:"xs",children:[e.jsxs(u,{justify:"space-between",wrap:"nowrap",children:[e.jsxs(u,{gap:8,wrap:"nowrap",style:{overflow:"hidden",flex:1},children:[e.jsx(i,{size:"sm",fw:700,truncate:!0,children:l.base}),e.jsx(k,{size:"xs",variant:"light",color:"cyan",style:{flexShrink:0},children:l.quote})]}),e.jsx(T,{variant:"light",color:n?"green":"red",size:"sm",style:{flexShrink:0},children:n?e.jsx(X,{size:14}):e.jsx(se,{size:14})})]}),e.jsxs(h,{style:{overflow:"hidden"},children:[e.jsx(D,{order:3,size:"h4",ff:"monospace",style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.jsx(V,{end:parseFloat(String(t.lastPrice||"0")),decimals:parseFloat(String(t.lastPrice||"0"))<.01?8:4})}),e.jsxs(i,{size:"xs",c:n?"green":"red",fw:700,children:[n?"+":"",c.toFixed(2),"%"]})]})]})})})}),ie=a.memo(({item:t,type:r,base:l,quote:c})=>{const n=t.lastPrice??"",m=t.change24h??0,d=t.high24h??"",p=t.low24h??"",g=t.volume24h?parseFloat(String(t.volume24h)).toLocaleString(void 0,{maximumFractionDigits:0}):"",x=parseFloat(String(m))||0,j=x>0,y=x<0,v=j?"green":y?"red":"dimmed";return e.jsx(U,{component:I,to:`/${r}?base=${l}&quote=${c}`,underline:"never",c:"inherit",children:e.jsx(S,{px:"xl",py:"md",align:"center",justify:"space-between",className:"market-row-hover no-move",style:{borderBottom:"1px solid rgba(255,255,255,0.05)",transition:"all 0.2s ease",cursor:"pointer"},children:e.jsxs(u,{gap:"xl",grow:!0,flex:1,children:[e.jsxs(u,{gap:"sm",wrap:"nowrap",style:{overflow:"hidden",flex:1},children:[e.jsx(i,{fw:700,truncate:!0,children:l}),e.jsx(i,{size:"xs",c:"dimmed",style:{flexShrink:0},children:c})]}),e.jsx(i,{ff:"monospace",fw:600,ta:"right",size:"md",children:n}),e.jsx(h,{ta:"right",children:e.jsxs(k,{variant:"light",color:v,radius:"sm",size:"md",style:{minWidth:"70px",fontVariantNumeric:"tabular-nums"},children:[j?"+":"",x.toFixed(2),"%"]})}),e.jsxs(z,{gap:0,ta:"right",visibleFrom:"md",children:[e.jsxs(i,{size:"xs",c:"dimmed",ff:"monospace",children:["H: ",d]}),e.jsxs(i,{size:"xs",c:"dimmed",ff:"monospace",children:["L: ",p]})]}),e.jsx(h,{ta:"right",visibleFrom:"lg",children:e.jsx(i,{size:"sm",ff:"monospace",c:"dimmed",children:g})})]})})})}),w=a.memo(({data:t,type:r})=>{const[l,c]=a.useState(1),n=15,m=Math.ceil(t.length/n);a.useEffect(()=>c(1),[r]);const d=a.useMemo(()=>{const p=(l-1)*n;return t.slice(p,p+n)},[t,l]);return e.jsx(h,{children:e.jsxs(E,{radius:"lg",className:"glass-card no-move",style:{overflow:"hidden"},children:[e.jsx(S,{px:"xl",py:"md",bg:"rgba(255,255,255,0.02)",style:{borderBottom:"1px solid rgba(255,255,255,0.05)"},children:e.jsxs(u,{gap:"xl",grow:!0,flex:1,children:[e.jsx(i,{size:"xs",fw:700,c:"dimmed",tt:"uppercase",children:"Market"}),e.jsx(i,{size:"xs",fw:700,c:"dimmed",tt:"uppercase",ta:"right",children:"Price"}),e.jsx(i,{size:"xs",fw:700,c:"dimmed",tt:"uppercase",ta:"right",children:"24h Change"}),e.jsx(i,{size:"xs",fw:700,c:"dimmed",tt:"uppercase",ta:"right",visibleFrom:"md",children:"High / Low"}),e.jsx(i,{size:"xs",fw:700,c:"dimmed",tt:"uppercase",ta:"right",visibleFrom:"lg",children:"Volume"})]})}),e.jsx(h,{style:{minHeight:"400px"},children:d.length>0?d.map(p=>{const g=P(p.symbol);return e.jsx(ie,{item:p,type:r,base:g.base,quote:g.quote},`${r}-${p.symbol}`)}):e.jsx(S,{justify:"center",align:"center",h:200,children:e.jsx(i,{c:"dimmed",size:"sm",children:"No assets found"})})}),m>1&&e.jsx(S,{justify:"center",p:"xl",bg:"rgba(255,255,255,0.01)",style:{borderTop:"1px solid rgba(255,255,255,0.05)"},children:e.jsx(A,{total:m,value:l,onChange:c,color:"cyan",radius:"xl"})})]})})});function ue(){const{spotStats:t,futuresStats:r,listen:l,unlisten:c}=H(),[n,m]=a.useState(""),[d,p]=a.useState("spot-usdt"),g=a.useRef(null);a.useEffect(()=>{const s=o=>{(o.ctrlKey||o.metaKey)&&o.key==="k"&&(o.preventDefault(),g.current?.focus())};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[]),a.useEffect(()=>{if(d)return d.startsWith("spot")?(l("spot"),c("futures")):d.startsWith("futures")&&(l("futures"),c("spot")),()=>{c("spot"),c("futures")}},[d,l,c]);const x=s=>!n||s.symbol.toLowerCase().includes(n.toLowerCase()),j=a.useMemo(()=>t.filter(s=>s.symbol.endsWith("USDT")).filter(x),[t,n]),y=a.useMemo(()=>t.filter(s=>s.symbol.endsWith("USDC")).filter(x),[t,n]),v=a.useMemo(()=>r.filter(s=>typeof s.symbol=="string"&&s.symbol.endsWith("_USDT")).filter(x),[r,n]),M=a.useMemo(()=>r.filter(s=>typeof s.symbol=="string"&&s.symbol.endsWith("_USDC")).filter(x),[r,n]),q=a.useMemo(()=>[...t,...r].sort((o,N)=>{const _=parseFloat(String(o.change24h||"0")),$=parseFloat(String(N.change24h||"0"));return Math.abs($)-Math.abs(_)}).slice(0,4),[t,r]);return e.jsxs(h,{style:{position:"relative",overflow:"hidden",minHeight:"calc(100vh - 60px)"},children:[e.jsx(K,{}),e.jsx(L,{size:"xl",py:"xl",style:{position:"relative",zIndex:1},children:e.jsxs(z,{gap:40,children:[e.jsxs(u,{justify:"space-between",align:"flex-end",children:[e.jsxs(z,{gap:4,children:[e.jsx(D,{order:1,size:42,children:"Market Explorer"}),e.jsx(i,{c:"dimmed",size:"lg",children:"Real-time data for over 1000+ trading pairs"})]}),e.jsx(W,{ref:g,placeholder:"Search assets...",leftSection:e.jsx(Z,{size:22,stroke:1.5,color:"var(--mantine-color-blue-4)"}),rightSection:e.jsxs(u,{gap:6,px:"xs",children:[n&&e.jsx(B,{variant:"transparent",color:"dimmed",onClick:()=>m(""),size:"sm",children:e.jsx(re,{size:16})}),e.jsx(h,{visibleFrom:"sm",style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"6px",padding:"2px 6px"},children:e.jsx(i,{size:"10px",fw:700,c:"dimmed",children:"Ctrl + K"})})]}),rightSectionWidth:110,value:n,onChange:s=>m(s.currentTarget.value),maw:450,w:"100%",radius:"md",size:"lg",classNames:{input:"glass-input"},styles:{input:{height:"54px",fontSize:"18px",background:"rgba(255,255,255,0.02) !important",backdropFilter:"blur(20px)",letterSpacing:"0.5px"}}})]}),e.jsxs(h,{children:[e.jsxs(u,{gap:"xs",mb:"lg",children:[e.jsx(Q,{color:"#ff8c00",size:20}),e.jsx(i,{fw:700,tt:"uppercase",size:"sm",c:"dimmed",children:"Featured Markets"})]}),e.jsx(R,{cols:{base:1,sm:2,lg:4},spacing:"lg",children:q.map(s=>e.jsx(ne,{item:s,type:t.some(o=>o.symbol===s.symbol)?"spot":"futures"},s.symbol))})]}),e.jsx(h,{children:e.jsxs(f,{value:d,onChange:p,variant:"unstyled",children:[e.jsx(h,{className:"glass-card",p:4,mb:"xl",style:{borderRadius:"16px",display:"inline-block",border:"1px solid rgba(255,255,255,0.05)"},children:e.jsx(f.List,{style:{gap:"4px",border:"none"},children:[{val:"spot-usdt",label:"Spot",quote:"USDT",icon:C,count:j.length},{val:"spot-usdc",label:"Spot",quote:"USDC",icon:C,count:y.length},{val:"futures-usdt",label:"Futures",quote:"USDT",icon:F,count:v.length},{val:"futures-usdc",label:"Futures",quote:"USDC",icon:F,count:M.length}].map(s=>{const o=d===s.val;return e.jsx(f.Tab,{value:s.val,style:{transition:"all 0.3s ease",background:o?"rgba(0, 150, 255, 0.1)":"transparent",border:"1px solid",borderColor:o?"rgba(0, 150, 255, 0.3)":"transparent",borderRadius:"12px",padding:"8px 16px"},className:"",children:e.jsxs(u,{gap:10,wrap:"nowrap",children:[e.jsx(T,{variant:o?"filled":"light",color:o?"blue":"gray",size:"sm",radius:"md",children:e.jsx(s.icon,{size:14})}),e.jsx(h,{children:e.jsxs(u,{gap:6,wrap:"nowrap",children:[e.jsx(i,{size:"sm",fw:700,c:o?"white":"dimmed",children:s.label}),e.jsx(k,{size:"xs",variant:o?"filled":"light",color:o?"blue":"gray",radius:"sm",style:{fontSize:"9px",height:"14px"},children:s.quote})]})}),e.jsx(i,{size:"xs",c:"dimmed",fw:500,style:{opacity:o?1:.6},children:s.count})]})},s.val)})})}),e.jsx(f.Panel,{value:"spot-usdt",children:e.jsx(w,{data:j,type:"spot"})}),e.jsx(f.Panel,{value:"spot-usdc",children:e.jsx(w,{data:y,type:"spot"})}),e.jsx(f.Panel,{value:"futures-usdt",children:e.jsx(w,{data:v,type:"futures"})}),e.jsx(f.Panel,{value:"futures-usdc",children:e.jsx(w,{data:M,type:"futures"})})]})})]})})]})}export{ue as default};
